import{r as c,u as O,g as B,j as a,S as Q,a as l,F as R,b as Y,w as z,c as S,A as $}from"./index-b17ab6cb.js";import{P as _,T as q,U as G,a as J,b as K,A as X,c as ee}from"./index-a092194c.js";const le=()=>{var h,u,p,f,g,x,v,w,b,C,m,y,N,k,L,j,M,A,T,P;const[D,V]=c.useState("top-3"),{data:s,isLoading:F,error:H,isError:W}=O(["dashboardQueryData"],async()=>(await $.get("/dashboard_data")).data,{refetchInterval:3e5,refetchOnWindowFocus:!1}),[t,U]=c.useState({title:B()[0],data:{data:[{name:"Today",data:[74,25,57,56,61,58,63,60,66,44,21,4]}],label:["1","2","3","4","5","6","7","8","9","10","11","12"]}}),[d,i]=c.useState(((u=(h=s==null?void 0:s.data)==null?void 0:h.chart)==null?void 0:u.LineChart["top-3"])||[]);if(F)return a(Q,{});if(W)return a("div",{className:"flex items-center justify-center min-h-screen text-sm text-rose-500",children:"An error has occured: "+H.message});if(Object.keys(s==null?void 0:s.data).length===0)return a("div",{className:"flex items-center justify-center min-h-screen text-sm text-rose-500",children:"No Data Found"});const n=(x=(g=(f=(p=s==null?void 0:s.data)==null?void 0:p.stats)==null?void 0:f.stats)==null?void 0:g.today)==null?void 0:x.map((e,r)=>({id:r,title:e==null?void 0:e.title,value:e==null?void 0:e.value,change:e==null?void 0:e.change,msz:"Yest vs Today",status:e==null?void 0:e.status,icon:(e==null?void 0:e.title)==="Person Count"?a("svg",{fill:"none",className:"w-12 h-12 text-sky-500",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}):a("svg",{className:"w-12 h-12 text-sky-500",fill:"none",stroke:"currentColor",strokeWidth:"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})})),E=(b=(w=(v=s==null?void 0:s.data)==null?void 0:v.stats)==null?void 0:w.trends)==null?void 0:b.map((e,r)=>({id:r,data:e==null?void 0:e.data,value:e==null?void 0:e.value,brief:e==null?void 0:e.title,icon:r===0?a("svg",{className:"w-10 h-10 text-sky-400",fill:"currentColor",viewBox:"0 0 56 56",children:a("path",{d:"M 28.0000 27.1257 C 31.1936 27.1257 33.9415 24.2737 33.9415 20.5602 C 33.9415 16.8912 31.1787 14.1729 28.0000 14.1729 C 24.8213 14.1729 22.0584 16.9506 22.0584 20.5898 C 22.0584 24.2737 24.8064 27.1257 28.0000 27.1257 Z M 10.9029 27.4673 C 13.6658 27.4673 16.0722 24.9718 16.0722 21.7485 C 16.0722 18.5548 13.6509 16.1930 10.9029 16.1930 C 8.1401 16.1930 5.7040 18.6143 5.7188 21.7782 C 5.7188 24.9718 8.1252 27.4673 10.9029 27.4673 Z M 45.0970 27.4673 C 47.8748 27.4673 50.2811 24.9718 50.2811 21.7782 C 50.2811 18.6143 47.8599 16.1930 45.0970 16.1930 C 42.3491 16.1930 39.9278 18.5548 39.9278 21.7485 C 39.9278 24.9718 42.3342 27.4673 45.0970 27.4673 Z M 2.6143 40.8806 L 13.9035 40.8806 C 12.3586 38.6376 14.2451 34.1220 17.4387 31.6562 C 15.7899 30.5570 13.6658 29.7400 10.8881 29.7400 C 4.1889 29.7400 0 34.6864 0 38.8010 C 0 40.1379 .7427 40.8806 2.6143 40.8806 Z M 53.3856 40.8806 C 55.2723 40.8806 56 40.1379 56 38.8010 C 56 34.6864 51.8113 29.7400 45.1119 29.7400 C 42.3342 29.7400 40.2102 30.5570 38.5613 31.6562 C 41.7549 34.1220 43.6414 38.6376 42.0966 40.8806 Z M 18.6568 40.8806 L 37.3283 40.8806 C 39.6604 40.8806 40.4925 40.2122 40.4925 38.9050 C 40.4925 35.0726 35.6944 29.7845 27.9851 29.7845 C 20.2907 29.7845 15.4928 35.0726 15.4928 38.9050 C 15.4928 40.2122 16.3247 40.8806 18.6568 40.8806 Z"})}):a("svg",{className:"w-10 h-10 text-sky-400",fill:"currentColor",viewBox:"0 0 16 16",children:a("path",{fillRule:"evenodd",d:"M10.5 3.5a2.5 2.5 0 0 0-5 0V4h5v-.5Zm1 0V4H15v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4h3.5v-.5a3.5 3.5 0 1 1 7 0ZM14 14V5H2v9a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1ZM8 7.993c1.664-1.711 5.825 1.283 0 5.132-5.825-3.85-1.664-6.843 0-5.132Z"})})})),I=e=>{var r,o;V(e),i((o=(r=s==null?void 0:s.data)==null?void 0:r.chart)==null?void 0:o.LineChart[e])};return a("div",{className:"flex flex-col justify-center w-full h-screen text-dark-text",children:l("div",{className:"grid grid-cols-12 gap-5 ",children:[l("div",{style:{height:"calc(100vh - 30px)"},className:"grid w-full h-full col-span-4 grid-rows-2 gap-5 ",children:[l("div",{className:"grid h-full grid-rows-3 gap-5 rounded-md shadow-lg filter drop-shadow-lg ",children:[a(_,{title:"People Count"}),a("div",{className:"flex gap-5",children:n==null?void 0:n.map(e=>l("div",{className:"flex flex-col justify-center w-full h-full p-5 rounded-md shadow-lg bg-core-widget filter drop-shadow-lg",children:[l("div",{className:"flex justify-between ",children:[e.icon,l("div",{className:` ${e.status==="Positive"?"bg-emerald-300 text-emerald-900":"bg-rose-300 text-rose-900"} rounded-full h-6 px-2 group flex justify-center items-center  font-semibold text-sm`,children:[a("span",{className:"group-hover:bg-auto",children:e.status==="Positive"?a(R,{className:"w-6 h-6"}):a(Y,{className:"w-6 h-6"})}),a(q,{msz:e.msz}),l("span",{className:"flex items-center",children:[e.change,"%"]})]})]}),a("div",{className:"w-full mt-2 text-2xl font-bold lg:mt-3 ",children:e.value}),a("div",{className:"mt-1 text-sm font-medium text-gray-400 uppercase",children:e.title})]},e==null?void 0:e.id))}),a("div",{className:"flex gap-5 ",children:E.map((e,r)=>l("div",{className:"relative flex flex-col justify-between w-full h-full p-5 rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:[a("div",{children:e.icon}),a("div",{className:"absolute right-0 top-0 text-blue-900 bg-[#a5bceb] font-medium uppercase rounded-bl-lg px-2 p-1 text-sm ",children:a("p",{children:"Last 7 Days"})}),l("div",{className:"mt-2 text-lg font-semibold",children:[a("span",{children:e.data})," (",e.value,")"]}),a("div",{className:"text-sm font-medium text-gray-400 uppercase",children:e.brief})]},e==null?void 0:e.id))})]}),a("div",{className:"rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:a(G,{defaultTab:B()[1],handleLineData:i,handleActiveTab:U,datasetLine:(m=(C=s==null?void 0:s.data)==null?void 0:C.chart)==null?void 0:m.LineChart["top-3"],data:(N=(y=s==null?void 0:s.data)==null?void 0:y.trends)==null?void 0:N.weekTop10,title:"Popular Times",labels:z,buttonProps:({isActive:e})=>({style:{border:"none",padding:"0px 5px",borderRadius:"0px",fontWeight:"600",height:"100%",cursor:"pointer",color:e?"#35ff":"#adb0bb",borderBottom:e?"0.2rem solid #35ff":""}}),children:(k=z)==null?void 0:k.map((e,r)=>{var o,Z;return a(J,{title:e,children:a(K,{title:"",data:(o=t==null?void 0:t.data)==null?void 0:o.data,labels:(Z=t==null?void 0:t.data)==null?void 0:Z.label})},r)})})})]}),l("div",{style:{height:"calc(100vh - 30px)"},className:"grid col-span-8 grid-rows-2 gap-5 1",children:[a("div",{className:"overflow-auto overflow-y-hidden rounded-md shadow-lg bg-core-widget custom-scrollbar filter drop-shadow-lg",children:a(X,{type:"bar",title:"Yesterday vs Today",distributed:!1,data:(M=(j=(L=s==null?void 0:s.data)==null?void 0:L.chart)==null?void 0:j.BarChart)==null?void 0:M.data,labels:(P=(T=(A=s==null?void 0:s.data)==null?void 0:A.chart)==null?void 0:T.BarChart)==null?void 0:P.labels,horizontal:!1,colors:S})}),l("div",{className:"flex flex-col w-full rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:[l("div",{className:"flex items-center justify-between h-10 px-2 pt-2",children:[a("p",{className:"font-bold text-[1.1em]     px-2 text-gray-500 ",children:"Last 30 Days"}),a("div",{className:"flex justify-center gap-5 ",children:[{title:"top - 3",id:"top-3"},{title:"top - 5",id:"top-5"},{title:"top - 7",id:"top-7"}].map(e=>a("div",{className:`${D===e.id?"bg-[#5d87ff] text-white":"bg-dark-bg text-gray-400 hover:bg-blue-900"} uppercase font-medium cursor-pointer rounded  p-1 px-2 shadow outline-none`,onClick:()=>I(e.id),children:e.title},e.id))})]}),a("div",{className:"flex-1 ",children:a(ee,{type:"line",data:(d==null?void 0:d.data)||[],labels:(d==null?void 0:d.date)||[],colors:S})})]})]})]})})};export{le as ALDashboard,le as default};
