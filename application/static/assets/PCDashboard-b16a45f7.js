import{r as i,u as A,g as N,j as e,S as H,a as r,F as T,b as _,w as C,c as k,A as B}from"./index-b17ab6cb.js";import{P,T as W,U as D,a as E,b as Y,A as U,c as G}from"./index-a092194c.js";const F=()=>{var p,g,u,v,f,m,x,w,b;const[n,z]=i.useState("yesterday"),{data:s,isLoading:q,error:L,isError:j}=A(["dashboardQueryData"],async()=>{const{data:l}=await B.get("/dashboard_data");return l==null?void 0:l.data},{refetchInterval:3e5,refetchOnWindowFocus:!1}),[c,S]=i.useState({title:N()[0],data:{data:{data:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],name:"Enter Count"},labels:["12a","1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p","12p"]}}),[d,h]=i.useState((p=s==null?void 0:s.chart)==null?void 0:p.linechart[n]);if(q)return e(H,{});if(j)return e("div",{className:"flex items-center justify-center min-h-screen text-sm text-rose-500",children:"An error has occured: "+L.message});const o=(g=s==null?void 0:s.stats)==null?void 0:g.map((l,t)=>{const a={};return a.id=t+1,a.title=l.title,a.value=l.value,a.status=l.status,a.change=l.changes,a.msz="Yest vs Today",a.icon=l.id==="IN"?r("svg",{fill:"currentColor",className:"w-10 h-10",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[e("g",{strokeWidth:"0"}),e("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e("g",{children:e("path",{d:"M0 26.016q0 2.496 1.76 4.224t4.256 1.76h20q2.464 0 4.224-1.76t1.76-4.224v-6.016l-6.88-6.88q-0.384 0.64-0.864 1.12l-1.856 1.824 5.6 5.952h-5.984v1.984q0 0.832-0.608 1.44t-1.408 0.576h-8q-0.832 0-1.408-0.576t-0.576-1.44v-1.984h-6.016l5.6-5.92-1.824-1.856q-0.48-0.448-0.896-1.12l-6.88 6.88v6.016zM10.048 10.368q0.096 0.608 0.544 1.056l4 4q0.64 0.608 1.44 0.576t1.376-0.576l4-4q0.48-0.48 0.576-1.088t-0.128-1.12-0.736-0.864-1.12-0.352h-1.984v-5.984q0-0.736-0.416-1.248t-1.024-0.608-1.152 0-1.024 0.608-0.384 1.248v5.984h-2.016q-0.64 0-1.152 0.384t-0.704 0.864-0.096 1.12z"})})]}):r("svg",{fill:"currentColor",className:"w-10 h-10",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:[e("g",{strokeWidth:"0"}),e("g",{strokeLinecap:"round",strokeLinejoin:"round"}),r("g",{children:[e("path",{d:"M0 26.016q0 2.496 1.76 4.224t4.256 1.76h20q2.464 0 4.224-1.76t1.76-4.224v-6.016l-8-8h-1.984v4h0.32l5.664 6.016h-5.984v1.984q0 0.832-0.608 1.44t-1.408 0.576h-8q-0.832 0-1.408-0.576t-0.576-1.44v-1.984h-6.016l5.664-6.016h0.352v-4h-2.016l-8 8v6.016zM10.048 5.664q-0.096 0.608 0.096 1.12t0.736 0.864 1.12 0.352h2.016v6.016q0 0.736 0.384 1.248t1.024 0.608 1.152 0 1.024-0.608 0.416-1.248v-6.016h1.984q0.672 0 1.152-0.352t0.704-0.896 0.096-1.12-0.544-1.056l-4-4q-0.608-0.608-1.408-0.576t-1.408 0.576l-4 4q-0.48 0.48-0.544 1.088z"})," "]})]}),a}),M=(u=s==null?void 0:s.trends)==null?void 0:u.map((l,t)=>{const a={};return a.id=t+1,a.title=l.title,a.value=l.value,a.msz=l.title==="BUSY DAY"?"Week":"Yesterday",a.icon=l.title==="BUSY DAY"?r("svg",{fill:"currentColor",version:"1.1",className:"w-10 h-10",viewBox:"0 0 612 612",xmlSpace:"preserve",children:[e("g",{strokeWidth:"0"}),e("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e("g",{children:e("g",{children:r("g",{children:[e("path",{d:"M612,463.781c0-70.342-49.018-129.199-114.75-144.379c-10.763-2.482-21.951-3.84-33.469-3.84 c-3.218,0-6.397,0.139-9.562,0.34c-71.829,4.58-129.725,60.291-137.69,131.145c-0.617,5.494-0.966,11.073-0.966,16.734 c0,10.662,1.152,21.052,3.289,31.078C333.139,561.792,392.584,612,463.781,612C545.641,612,612,545.641,612,463.781z M463.781,561.797c-54.133,0-98.016-43.883-98.016-98.016s43.883-98.016,98.016-98.016s98.016,43.883,98.016,98.016 S517.914,561.797,463.781,561.797z"}),e("polygon",{points:"482.906,396.844 449.438,396.844 449.438,449.438 396.844,449.438 396.844,482.906 482.906,482.906 482.906,449.438 482.906,449.438 "}),e("path",{d:"M109.969,0c-9.228,0-16.734,7.507-16.734,16.734v38.25v40.641c0,9.228,7.506,16.734,16.734,16.734h14.344 c9.228,0,16.734-7.507,16.734-16.734V54.984v-38.25C141.047,7.507,133.541,0,124.312,0H109.969z"}),e("path",{d:"M372.938,0c-9.228,0-16.734,7.507-16.734,16.734v38.25v40.641c0,9.228,7.507,16.734,16.734,16.734h14.344 c9.228,0,16.734-7.507,16.734-16.734V54.984v-38.25C404.016,7.507,396.509,0,387.281,0H372.938z"}),e("path",{d:"M38.25,494.859h236.672c-2.333-11.6-3.572-23.586-3.572-35.859c0-4.021,0.177-7.999,0.435-11.953H71.719 c-15.845,0-28.688-12.843-28.688-28.688v-229.5h411.188v88.707c3.165-0.163,6.354-0.253,9.562-0.253 c11.437,0,22.61,1.109,33.469,3.141V93.234c0-21.124-17.126-38.25-38.25-38.25h-31.078v40.641c0,22.41-18.23,40.641-40.641,40.641 h-14.344c-22.41,0-40.641-18.231-40.641-40.641V54.984H164.953v40.641c0,22.41-18.231,40.641-40.641,40.641h-14.344 c-22.41,0-40.641-18.231-40.641-40.641V54.984H38.25C17.126,54.984,0,72.111,0,93.234v363.375 C0,477.733,17.126,494.859,38.25,494.859z"}),e("circle",{cx:"134.774",cy:"260.578",r:"37.954"})," ",e("circle",{cx:"248.625",cy:"260.578",r:"37.954"}),e("circle",{cx:"362.477",cy:"260.578",r:"37.954"})," ",e("circle",{cx:"248.625",cy:"375.328",r:"37.953"}),e("circle",{cx:"134.774",cy:"375.328",r:"37.953"})]})})})]}):l.title==="PEAK HOURS"?r("svg",{fill:"currentColor",className:"w-10 h-10",version:"1.1",id:"_x32_",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",xmlSpace:"preserve",children:[e("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),e("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),r("g",{id:"SVGRepo_iconCarrier",children:[" ",r("g",{children:[" ",e("path",{className:"st0",d:"M329.368,237.908l42.55-39.905c25.237-23.661,39.56-56.701,39.56-91.292V49.156 c0.009-13.514-5.538-25.918-14.402-34.754C388.24,5.529,375.828-0.009,362.314,0H149.677c-13.514-0.009-25.918,5.529-34.754,14.401 c-8.872,8.837-14.41,21.24-14.402,34.754v57.554c0,34.591,14.315,67.632,39.552,91.292l42.55,39.888 c2.352,2.205,3.678,5.272,3.678,8.493v19.234c0,3.221-1.326,6.279-3.67,8.475l-42.558,39.905 c-25.237,23.653-39.552,56.702-39.552,91.292v57.554c-0.009,13.514,5.529,25.918,14.402,34.755 c8.836,8.871,21.24,14.409,34.754,14.401h212.636c13.514,0.008,25.926-5.53,34.763-14.401c8.863-8.838,14.41-21.241,14.402-34.755 v-57.554c0-34.59-14.324-67.64-39.56-91.292l-42.55-39.896c-2.344-2.205-3.678-5.263-3.678-8.484v-19.234 C325.69,243.162,327.025,240.095,329.368,237.908z M373.942,462.844c-0.009,3.273-1.266,6.055-3.403,8.218 c-2.162,2.135-4.952,3.402-8.226,3.41H149.677c-3.273-0.009-6.055-1.275-8.225-3.41c-2.128-2.163-3.394-4.945-3.402-8.218v-57.554 c0-24.212,10.026-47.356,27.691-63.91l42.55-39.906c9.914-9.285,15.538-22.274,15.538-35.857v-19.234 c0-13.592-5.624-26.58-15.547-35.866l-42.541-39.896c-17.666-16.555-27.691-39.69-27.691-63.91V49.156 c0.008-3.273,1.274-6.055,3.402-8.226c2.17-2.127,4.952-3.394,8.225-3.402h212.636c3.273,0.009,6.064,1.275,8.226,3.402 c2.136,2.171,3.394,4.952,3.403,8.226v57.554c0,24.22-10.026,47.355-27.683,63.91l-42.55,39.896 c-9.922,9.286-15.547,22.274-15.547,35.866v19.234c0,13.583,5.625,26.572,15.547,35.874l42.55,39.88 c17.658,16.563,27.683,39.707,27.683,63.918V462.844z"})," ",e("path",{className:"st0",d:"M256,248.674c10.017,0,18.131-8.122,18.131-18.139c3.032-12.051,9.397-23.161,18.578-31.757l42.542-39.888 c13.592-12.739,21.602-30.448,22.446-48.984H154.302c0.844,18.536,8.854,36.245,22.438,48.984l42.541,39.888 c9.19,8.596,15.547,19.706,18.579,31.757C237.861,240.552,245.983,248.674,256,248.674z"})," ",e("path",{className:"st0",d:"M256,267.796c-10.017,0-18.139,8.122-18.139,18.139c0,10.009,8.122,18.131,18.139,18.131 c10.017,0,18.131-8.122,18.131-18.131C274.131,275.918,266.017,267.796,256,267.796z"})," ",e("path",{className:"st0",d:"M256,332.137c-10.017,0-18.139,8.122-18.139,18.14c0,10.009,8.122,18.131,18.139,18.131 c10.017,0,18.131-8.122,18.131-18.131C274.131,340.259,266.017,332.137,256,332.137z"})," ",e("path",{className:"st0",d:"M239.876,389.742l-66.538,66.538h165.315l-66.537-66.538C263.21,380.845,248.782,380.845,239.876,389.742z"})," "]})," "]})]}):r("svg",{viewBox:"0 0 24 24",fill:"none",className:"w-10 h-10",xmlns:"http://www.w3.org/2000/svg",children:[e("g",{strokeWidth:"0"}),e("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e("g",{children:e("path",{d:"M13.6888 12.5C15.566 11.4076 17.203 8.68855 17.7794 5.98398C18.0096 4.90367 17.1046 4 16 4H8C6.89543 4 5.99038 4.90367 6.22061 5.98398C6.797 8.68855 8.43404 11.4076 10.3112 12.5C8.43404 13.5924 6.797 16.3114 6.22061 19.016C5.99038 20.0963 6.89543 21 8 21H16C17.1046 21 18.0096 20.0963 17.7794 19.016C17.203 16.3114 15.566 13.5924 13.6888 12.5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),a}),V=l=>{var t;z(l),h((t=s==null?void 0:s.chart)==null?void 0:t.linechart[l])};return e("div",{className:"flex flex-col justify-center w-full h-screen text-dark-text",children:r("div",{className:"grid grid-cols-12 gap-5",children:[r("div",{style:{height:"calc(100vh - 30px)"},className:"grid w-full h-full col-span-4 grid-rows-2 gap-5  ",children:[r("div",{className:"grid h-full grid-rows-3 gap-5 rounded-md shadow-lg filter drop-shadow-lg  ",children:[e(P,{title:"People Count"}),e("div",{className:"flex gap-5",children:o==null?void 0:o.map(l=>r("div",{className:"flex flex-col justify-center w-full h-full p-5 rounded-md shadow-lg bg-core-widget filter drop-shadow-lg",children:[r("div",{className:"flex justify-between ",children:[l.icon,l.status&&r("div",{className:` ${l.status!=="NEGATIVE"?"bg-emerald-300 text-emerald-900":"bg-rose-300 text-rose-900"} rounded-full h-6 px-2 group flex justify-center items-center  font-semibold text-sm`,children:[e("span",{className:"group-hover:bg-auto",children:l.status!=="NEGATIVE"?e(T,{className:"w-6 h-6"}):e(_,{className:"w-6 h-6"})}),e(W,{msz:l.msz}),r("span",{className:"flex items-center",children:[l.change,"%"]})]})]}),e("div",{className:"w-full mt-2 text-2xl font-bold lg:mt-3 ",children:l.value}),e("div",{className:"mt-1 text-sm font-medium text-gray-400 uppercase",children:l.title})]},l==null?void 0:l.id))}),e("div",{className:"flex gap-5 ",children:M.map(l=>r("div",{className:"relative flex flex-col justify-between w-full h-full p-5 rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:[e("div",{className:"",children:l.icon}),e("div",{className:"absolute right-0 top-0 text-blue-900 bg-[#a5bceb] font-semibold   rounded-bl-lg px-2 p-1 text-sm ",children:e("p",{children:l.msz})}),e("div",{className:"mt-2   text-lg font-semibold",children:e("span",{children:l.value})}),e("div",{className:"text-sm font-medium text-gray-400 uppercase",children:l.title})]},l==null?void 0:l.id))})]}),e("div",{className:"rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:e(D,{defaultTab:N()[1],handleLineData:h,handleActiveTab:S,datasetLine:(v=s==null?void 0:s.chart)==null?void 0:v.linechart.yesterday,data:s==null?void 0:s.weekly_trend,title:"Popular Times",labels:C,buttonProps:({isActive:l})=>({style:{border:"none",padding:"0px 5px",borderRadius:"0px",fontWeight:"600",height:"100%",cursor:"pointer",color:l?"#35ff":"#adb0bb",borderBottom:l?"0.2rem solid #35ff":""}}),children:(f=C)==null?void 0:f.map((l,t)=>{var a,y;return e(E,{title:l,children:e(Y,{title:"",data:(a=c==null?void 0:c.data)==null?void 0:a.data,labels:(y=c==null?void 0:c.data)==null?void 0:y.labels})},t)})})})]}),e("div",{className:"col-span-8 ",children:r("div",{style:{height:"calc(100vh - 30px)"},className:"grid col-span-8 grid-rows-2 gap-5",children:[e("div",{className:"verflow-auto  overflow-y-hidden rounded-md shadow-lg bg-core-widget custom-scrollbar filter drop-shadow-lg",children:e(U,{type:"bar",title:"Yesterday vs Today",distributed:!1,data:(x=(m=s==null?void 0:s.chart)==null?void 0:m.barchart)==null?void 0:x.data,labels:(b=(w=s==null?void 0:s.chart)==null?void 0:w.barchart)==null?void 0:b.labels,horizontal:!1,colors:k})}),r("div",{className:"flex flex-col w-full rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:[r("div",{className:"flex items-center justify-between h-10 px-2 pt-2",children:[e("p",{className:"font-bold text-[1.1em]     px-2 text-gray-500 ",children:"Hourly Visitor Count"}),e("div",{className:"flex justify-center gap-5 ",children:[{title:"Yesterday",id:"yesterday"},{title:"Last 7 Days",id:"last_7_days"},{title:"Last 30 Days",id:"last_30_days"}].map(l=>e("div",{className:`${n===l.id?"bg-[#5d87ff] text-white":"bg-dark-bg text-gray-400 hover:bg-blue-900"} uppercase font-medium cursor-pointer rounded  p-1 px-2 shadow outline-none`,onClick:()=>V(l.id),children:l.title},l.id))})]}),e("div",{className:"flex-1 ",children:e(G,{type:"line",data:(d==null?void 0:d.data)||[],labels:(d==null?void 0:d.labels)||[],colors:k})})]})]})})]})})};export{F as PCDashboard,F as default};
