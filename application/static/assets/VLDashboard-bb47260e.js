import{r as n,u as O,g as P,j as e,S as Q,a,F as Y,b as _,w as T,c as B,A as $}from"./index-b17ab6cb.js";import{P as R,T as q,U as G,a as J,b as K,A as X,c as e1}from"./index-a092194c.js";const a1=()=>{var i,p,g,u,f,v,x,b,w,y,C,L,N,z,M,m,k,j,S,A;const[D,V]=n.useState("top-3"),{data:c,isLoading:W,error:F,isError:Z}=O(["dashboardQueryData"],async()=>(await $.get("/dashboard_data")).data,{refetchInterval:3e5,refetchOnWindowFocus:!1}),[r,U]=n.useState({title:P()[0],data:{data:[{name:"Today",data:[74,25,57,56,61,58,63,60,66,44,21,4]}],label:["1","2","3","4","5","6","7","8","9","10","11","12"]}}),[t,h]=n.useState(((p=(i=c==null?void 0:c.data)==null?void 0:i.chart)==null?void 0:p.LineChart["top-3"])||[]);if(W)return e(Q,{});if(Z)return e("div",{className:"flex items-center justify-center min-h-screen text-sm text-rose-500",children:"An error has occured: "+F.message});if(Object.keys(c==null?void 0:c.data).length===0)return e("div",{className:"flex items-center justify-center min-h-screen text-sm text-rose-500",children:"No Data Found"});const o=(v=(f=(u=(g=c==null?void 0:c.data)==null?void 0:g.stats)==null?void 0:u.stats)==null?void 0:f.today)==null?void 0:v.map((l,s)=>({id:s,title:(l==null?void 0:l.title)==="Person Count"?"Vehicle Count":l==null?void 0:l.title,value:l==null?void 0:l.value,change:l==null?void 0:l.change,msz:"Yest vs Today",status:l==null?void 0:l.status,icon:(l==null?void 0:l.title)==="Person Count"?a("svg",{fill:"currentColor",className:"w-12 h-12 text-sky-500",version:"1.1",viewBox:"0 0 301.591 301.591",xmlSpace:"preserve",children:[e("g",{strokeWidth:"0"}),e("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e("g",{children:e("g",{children:e("g",{children:a("g",{children:[e("path",{d:"M197.989,189.113l-13.916-73.333c-0.688-3.623-3.854-6.245-7.543-6.245H35.549c-3.688,0-6.855,2.622-7.543,6.246 l-13.915,73.332C5.561,195.24,0,205.238,0,216.542v36.57c0,6.978,5.657,12.635,12.635,12.635h6.027v16.151 c0,10.237,8.299,18.535,18.535,18.535c10.236,0,18.535-8.299,18.535-18.535v-16.151h100.617v16.151 c0,10.237,8.299,18.535,18.535,18.535s18.535-8.299,18.535-18.535v-16.151h6.027c6.978,0,12.635-5.657,12.635-12.635v-36.57 C212.079,205.239,206.518,195.24,197.989,189.113z M36.667,244.3c-9.717,0-17.498-7.899-17.498-17.497 c0-9.664,7.834-17.498,17.498-17.498c9.621,0,17.425,7.765,17.495,17.369c0,0.043,0.003,0.085,0.003,0.129 C54.164,236.466,46.331,244.3,36.667,244.3z M154.246,151.71c-4.169,0-35.966,0-40.13,0c-9.706,0-17.641,7.896-17.689,17.601 l-0.062,13.473H33.759c-0.965,0-1.919,0.05-2.864,0.129l11.01-58.025h78.227c-0.884,1.949-1.381,4.111-1.381,6.391 c0,8.556,6.936,15.492,15.492,15.492c8.556,0,15.492-6.936,15.492-15.492c0-2.28-0.497-4.442-1.381-6.391h21.817l11.011,58.025 c-1.98-0.166-2.367-0.129-9.186-0.129l-0.062-13.473C171.888,159.605,163.952,151.71,154.246,151.71z M175.412,244.3 c-9.664,0-17.498-7.834-17.498-17.497c0-0.043,0.003-0.086,0.003-0.129c0.07-9.604,7.874-17.369,17.495-17.369 c9.664,0,17.498,7.834,17.498,17.498C192.91,236.405,185.125,244.3,175.412,244.3z"})," ",e("path",{d:"M210.655,108.449l-3.37,2.866c-2.913,2.477-3.931,6.529-2.534,10.089l6.258,15.951l-0.003-3.054 c-0.008-9.978,3.817-19.043,10.113-25.859L210.655,108.449z"})," ",e("path",{d:"M276.941,108.396c6.199,6.69,9.924,15.447,10.138,25.008l12.461-27.649c-2.303,1.65-5.121,2.627-8.164,2.629 L276.941,108.396z"})," ",e("circle",{cx:"247.975",cy:"16.617",r:"15.459"}),e("path",{d:"M249.069,147.746c-0.003,0-0.005,0-0.008,0c-5.138,0.004-9.3,4.172-9.296,9.31l0.028,34.943 c0.004,5.135,4.168,9.296,9.303,9.296c0.003,0,0.005,0,0.008,0c5.138-0.004,9.3-4.172,9.296-9.31l-0.028-34.943 C258.368,151.906,254.203,147.746,249.069,147.746z"})," ",e("path",{d:"M259.661,106.957c2.358-1.997,4.041-4.505,4.987-7.296l25.391-0.02c5.611,3.669,12.928-1.418,11.327-8.005 c-3.662-15.064,0.778,3.201-7.251-29.832c-0.377-1.552-1.241-2.941-2.467-3.964l-21.926-18.306 c-0.601-0.501-2.677-1.477-3.669-1.642c-2.172-0.362-35.332-0.008-35.983,0.079c-1.722,0.101-2.592,0.556-4.046,1.888 l-23.627,21.64c-1.295,1.187-2.131,2.792-2.358,4.535c-2.861,21.911-1.9,14.548-3.517,26.935 c-0.874,6.694,6.915,10.98,12.111,6.737l24.773-0.02c1.049,2.982,2.811,5.466,4.999,7.285 c-10.964,4.279-18.667,14.942-18.656,27.321l0.026,32.473c0.004,3.643,2.959,6.645,6.65,6.645c0.002,0,0.003,0,0.005,0 l4.603-0.004l-0.013-16.344c-0.008-9.953,8.032-18.054,18.04-18.062h0.008c9.943,0,18.039,8.089,18.047,18.033l0.013,16.344 l4.531-0.004h0.073c3.672-0.003,6.648-2.983,6.645-6.655v-0.026l-0.026-32.447C278.344,122.07,270.813,111.292,259.661,106.957z M233.399,89.033l-21.319,0.017c0.963-7.378,0.57-4.367,2.401-18.386l13.831-12.669l0.048,21.865 c4.641-6.617,12.278-10.754,20.646-10.761h0.014h0.001c7.354,0.001,14.151,3.197,18.844,8.466L267.82,57.38l12.381,10.336 c4.382,18.024,2.336,9.611,5.172,21.275l-20.743,0.016c-2.22-6.502-8.423-11.164-15.625-11.164 C241.885,77.85,235.649,82.438,233.399,89.033z M249.025,102.106h-0.007c-4.274,0-7.755-3.478-7.758-7.752 c-0.003-4.278,3.475-7.762,7.759-7.765c4.274,0,7.755,3.478,7.758,7.753C256.781,98.63,253.313,102.102,249.025,102.106z"})," "]})})})})]}):a("svg",{fill:"rgb(14 165 233)",className:"w-12 h-12 text-sky-500",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e("g",{strokeWidth:"0"}),e("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e("g",{children:e("path",{d:"M19,13a1,1,0,0,0-1,1v.39l-1.48-1.48a2.79,2.79,0,0,0-3.93,0l-.7.7L9.41,11.12a2.87,2.87,0,0,0-3.93,0L4,12.61V7A1,1,0,0,1,5,6H9A1,1,0,0,0,9,4H5A3,3,0,0,0,2,7V19a3,3,0,0,0,3,3H17a3,3,0,0,0,3-3V14A1,1,0,0,0,19,13ZM5,20a1,1,0,0,1-1-1V15.43l2.9-2.89a.79.79,0,0,1,1.09,0l3.17,3.17,0,0L15.45,20Zm13-1a1,1,0,0,1-.18.54L13.31,15l.7-.69a.77.77,0,0,1,1.1,0L18,17.22Zm3.71-8.71L20,8.57a4.31,4.31,0,1,0-6.72.79,4.27,4.27,0,0,0,3,1.26A4.34,4.34,0,0,0,18.57,10l1.72,1.73a1,1,0,0,0,1.42,0A1,1,0,0,0,21.71,10.29ZM18,8a2.32,2.32,0,1,1,0-3.27A2.32,2.32,0,0,1,18,8Z"})})]})})),E=(w=(b=(x=c==null?void 0:c.data)==null?void 0:x.stats)==null?void 0:b.trends)==null?void 0:w.map((l,s)=>({id:s,data:l==null?void 0:l.data,value:l==null?void 0:l.value,brief:l==null?void 0:l.title,icon:s===0?a("svg",{className:"w-10 h-10 text-sky-400",fill:"currentColor",version:"1.2",viewBox:"0 0 256 178",children:[e("g",{strokeWidth:"0"}),e("g",{strokeLinecap:"round",strokeLinejoin:"round"}),e("g",{children:a("g",{children:[e("path",{fill:"none",d:"M113.2,72.2h53.9c2,0,3-1,3-2.9c0-0.7-0.2-1.3-0.5-1.8l-12.1-26.3c-1.3-2.1-3-2.7-5.3-2.7h-39 c-3.7,0-5.5,1.8-5.5,5.5v22.7C107.7,70.4,109.5,72.2,113.2,72.2z M139.4,43.9c6.6,0,12,5.4,12,12s-5.4,12-12,12s-12-5.4-12-12 S132.7,43.9,139.4,43.9z"}),e("path",{fill:"none",d:"M204.8,131.5c-4.4,0-7.9,3.5-7.9,7.9c0,4.4,3.5,7.9,7.9,7.9c4.4,0,7.9-3.5,7.9-7.9 C212.7,135,209.2,131.5,204.8,131.5z"}),e("path",{fill:"none",d:"M49.6,72.3h42.2c2.7,0,4.8-2.2,4.8-4.8l0-24.2c0-2.7-2.2-4.8-4.8-4.8H53.6c-3.7,0-5.5,1.8-5.5,5.5l-4,22.8 C44.1,70.5,45.9,72.3,49.6,72.3z M65,43.9c6.6,0,12,5.4,12,12s-5.4,12-12,12c-6.6,0-12-5.4-12-12S58.4,43.9,65,43.9z"}),e("path",{fill:"none",d:"M55.5,131.5c-4.4,0-7.9,3.5-7.9,7.9c0,4.4,3.5,7.9,7.9,7.9c4.4,0,7.9-3.5,7.9-7.9 C63.4,135,59.9,131.5,55.5,131.5z"}),e("circle",{cx:"139.4",cy:"55.9",r:"12"}),e("path",{d:"M55.5,115.8c-13.1,0-23.7,10.6-23.7,23.7s10.6,23.7,23.7,23.7c13.1,0,23.7-10.6,23.7-23.7 C79.2,126.4,68.6,115.8,55.5,115.8z M55.5,147.3c-4.4,0-7.9-3.5-7.9-7.9c0-4.4,3.5-7.9,7.9-7.9c4.4,0,7.9,3.5,7.9,7.9 C63.4,143.8,59.9,147.3,55.5,147.3z"})," ",e("path",{d:"M14.3,134H21c0.6-8.1,4.3-15.1,11.2-20.8s14.6-8.6,23.1-8.6s16.3,2.9,23.3,8.6s10.8,12.7,11.3,20.8h80.4 c0.6-8.1,4.4-15.1,11.3-20.8c7-5.7,14.7-8.6,23.3-8.6c8.5,0,16.2,2.9,23.1,8.6c6.9,5.7,10.6,12.7,11.2,20.8h6.7 c4.8,0,7.3-2.4,7.3-7.3v-12.6h-6.9v-12c0,0,0-4.9,0-7.4v-5.2c0-8.6-7.5-15.5-16.9-15.5h-40.7l-22.3-40.2c-1.9-3.6-6.4-5.6-10.3-5.6 H49.5c-4.8-0.1-9.1,2.9-10.5,7.6L30.5,74h0.4C21.6,74,14,80.9,14,89.5v5.2c0,2.5,0,7.4,0,7.4v12H7v12.6C7,131.5,9.4,134,14.3,134z M107.7,44c0-3.7,1.8-5.5,5.5-5.5h39c2.3,0,4,0.6,5.3,2.7l12.1,26.3c0.3,0.5,0.5,1.1,0.5,1.8c0,1.9-1,2.9-3,2.9h-53.9 c-3.7,0-5.5-1.8-5.5-5.5V44z M48.1,44c0-3.7,1.8-5.5,5.5-5.5h38.2c2.6,0,4.8,2.1,4.8,4.8l0,24.2c0,2.6-2.1,4.8-4.8,4.8H49.6 c-3.7,0-5.5-1.8-5.5-5.5L48.1,44z"})," ",e("path",{d:"M204.8,115.8c-13.1,0-23.7,10.6-23.7,23.7s10.6,23.7,23.7,23.7c13.1,0,23.7-10.6,23.7-23.7 C228.5,126.4,217.9,115.8,204.8,115.8z M204.8,147.3c-4.4,0-7.9-3.5-7.9-7.9c0-4.4,3.5-7.9,7.9-7.9c4.4,0,7.9,3.5,7.9,7.9 C212.7,143.8,209.2,147.3,204.8,147.3z"})," ",e("circle",{cx:"65",cy:"55.9",r:"12"}),e("path",{d:"M155.5,165c-3.5-4.2-14.7-11-27.5-11s-23.4,6.8-26.6,11H1.3v11H254v-11H155.5z"})," "]})})]}):a("svg",{className:"w-10 h-10 text-sky-400",fill:"currentColor",version:"1.1",id:"Layer_1",viewBox:"0 0 512 512",xmlSpace:"preserve",children:[e("g",{strokeWidth:"0"}),e("g",{strokeLinecap:"round",strokeLinejoin:"round"}),a("g",{children:[e("g",{children:e("g",{children:e("path",{d:"M256,0C114.842,0,0,114.842,0,256s114.842,256,256,256s256-114.842,256-256S397.158,0,256,0z M256,478.609 c-122.746,0-222.609-99.862-222.609-222.609S133.254,33.391,256,33.391S478.609,133.254,478.609,256S378.746,478.609,256,478.609z "})})}),e("g",{children:e("g",{children:e("path",{d:"M385.429,198.204l-79.088-11.492l-35.369-71.667c-6.114-12.386-23.828-12.388-29.943,0l-35.369,71.667l-79.088,11.492 c-13.665,1.983-19.148,18.833-9.253,28.477l57.228,55.785l-13.51,78.768c-2.333,13.61,11.992,24.029,24.225,17.601L256,341.644 l70.738,37.19c2.443,1.283,5.111,1.918,7.768,1.918c10.277,0,18.217-9.257,16.457-19.518l-13.51-78.768l57.228-55.785 C404.57,217.043,399.104,200.19,385.429,198.204z M307.861,264.682c-3.936,3.836-5.731,9.362-4.802,14.778l9.275,54.077 l-48.564-25.532c-4.865-2.557-10.674-2.557-15.539,0l-48.564,25.532l9.275-54.077c0.929-5.416-0.866-10.942-4.802-14.778 l-39.289-38.298l54.297-7.89c5.438-0.79,10.138-4.205,12.571-9.133L256,160.159l24.282,49.202 c2.433,4.927,7.132,8.342,12.571,9.133l54.297,7.89L307.861,264.682z"})})})]})]})})),I=l=>{var s,d;V(l),h((d=(s=c==null?void 0:c.data)==null?void 0:s.chart)==null?void 0:d.LineChart[l])};return e("div",{className:"flex flex-col justify-center w-full h-screen text-dark-text",children:a("div",{className:"grid grid-cols-12 gap-5 ",children:[a("div",{style:{height:"calc(100vh - 30px)"},className:"grid w-full h-full col-span-4 grid-rows-2 gap-5 1",children:[a("div",{className:"grid h-full grid-rows-3 gap-5 rounded-md shadow-lg filter drop-shadow-lg ",children:[e(R,{title:"People Count"}),e("div",{className:"flex gap-5",children:o==null?void 0:o.map(l=>a("div",{className:"flex flex-col justify-center w-full h-full p-5 rounded-md shadow-lg bg-core-widget filter drop-shadow-lg",children:[a("div",{className:"flex justify-between ",children:[l.icon,a("div",{className:` ${l.status==="Positive"?"bg-emerald-300 text-emerald-900":"bg-rose-300 text-rose-900"} rounded-full h-6 px-2 group flex justify-center items-center  font-semibold text-sm`,children:[e("span",{className:"group-hover:bg-auto",children:l.status==="Positive"?e(Y,{className:"w-6 h-6"}):e(_,{className:"w-6 h-6"})}),e(q,{msz:l.msz}),a("span",{className:"flex items-center",children:[l.change,"%"]})]})]}),e("div",{className:"w-full mt-2 text-2xl font-bold lg:mt-3 ",children:l.value}),e("div",{className:"mt-1 text-sm font-medium text-gray-400 uppercase",children:l.title})]},l==null?void 0:l.id))}),e("div",{className:"flex gap-5 ",children:E.map(l=>a("div",{className:"relative flex flex-col justify-between w-full h-full p-5 rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:[e("div",{children:l.icon}),e("div",{className:"absolute right-0 top-0 text-blue-900 bg-[#a5bceb] font-medium uppercase rounded-bl-lg px-2 p-1 text-sm ",children:e("p",{children:"Last 7 Days"})}),a("div",{className:"mt-2 text-lg font-semibold",children:[e("span",{children:l.data})," (",l.value,")"]}),e("div",{className:"text-sm font-medium text-gray-400 uppercase",children:l.brief})]},l==null?void 0:l.id))})]}),e("div",{className:"rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:e(G,{defaultTab:P()[1],handleLineData:h,handleActiveTab:U,datasetLine:(C=(y=c==null?void 0:c.data)==null?void 0:y.chart)==null?void 0:C.LineChart["top-3"],data:(N=(L=c==null?void 0:c.data)==null?void 0:L.trends)==null?void 0:N.weekTop10,title:"Popular Times",labels:T,buttonProps:({isActive:l})=>({style:{border:"none",padding:"0px 5px",borderRadius:"0px",fontWeight:"600",height:"100%",cursor:"pointer",color:l?"#35ff":"#adb0bb",borderBottom:l?"0.2rem solid #35ff":""}}),children:(z=T)==null?void 0:z.map((l,s)=>{var d,H;return e(J,{title:l,children:e(K,{title:"",data:(d=r==null?void 0:r.data)==null?void 0:d.data,labels:(H=r==null?void 0:r.data)==null?void 0:H.label})},s)})})})]}),a("div",{style:{height:"calc(100vh - 30px)"},className:"grid col-span-8 grid-rows-2 gap-5 1",children:[e("div",{className:"overflow-auto overflow-y-hidden rounded-md shadow-lg bg-core-widget custom-scrollbar filter drop-shadow-lg",children:e(X,{type:"bar",title:"Yesterday vs Today",distributed:!1,data:(k=(m=(M=c==null?void 0:c.data)==null?void 0:M.chart)==null?void 0:m.BarChart)==null?void 0:k.data,labels:(A=(S=(j=c==null?void 0:c.data)==null?void 0:j.chart)==null?void 0:S.BarChart)==null?void 0:A.labels,horizontal:!1,colors:B})}),a("div",{className:"flex flex-col w-full rounded-md shadow-lg bg-core-widget filter drop-shadow-lg ",children:[a("div",{className:"flex items-center justify-between h-10 px-2 pt-2",children:[e("p",{className:"font-bold text-[1.1em]     px-2 text-gray-500 ",children:"Last 30 Days"}),e("div",{className:"flex justify-center gap-5 ",children:[{title:"top - 3",id:"top-3"},{title:"top - 5",id:"top-5"},{title:"top - 7",id:"top-7"}].map(l=>e("div",{className:`${D===l.id?"bg-[#5d87ff] text-white":"bg-dark-bg text-gray-400 hover:bg-blue-900"} uppercase font-medium cursor-pointer rounded  p-1 px-2 shadow outline-none`,onClick:()=>I(l.id),children:l.title},l.id))})]}),e("div",{className:"flex-1 ",children:e(e1,{type:"line",data:(t==null?void 0:t.data)||[],labels:(t==null?void 0:t.date)||[],colors:B})})]})]})]})})};export{a1 as VLDashboard,a1 as default};
