import{e as s,t as n}from"./index-1201fba5.js";const a=window.localStorage.getItem("ip"),i=window.localStorage.getItem("port"),c=`http://${a}:${i}`,r=window.localStorage.getItem("session_token"),l=window.localStorage.getItem("accessToken"),o=s.create({baseURL:c});o.interceptors.request.use(function(e){return e.headers.sess_token=r||"",e.headers.auth_token=l||"",e});o.interceptors.response.use(e=>e,async e=>{var t;return((t=e==null?void 0:e.response)==null?void 0:t.status)===401&&(n.error("Session Expired"),setTimeout(()=>{window.localStorage.clear(),window.location.reload(!1),window.location.href="/"},2e3)),Promise.reject(e)});export{o as A};
